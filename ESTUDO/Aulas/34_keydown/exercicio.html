<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <title> CFB Cursos - Javascript </title>
        <meta charset="utf-8" />
        <style>
            #div1{
                width: 100px;
                height: 100px;
                border: solid 1px black;
                background-color: #fff;
                left: 0px;
                top: 0px;
                position: absolute;
            }
        </style>
        <script>
            //Variaveis globais
            var px = 0;
            var py = 0;
            var objeto;

            //Realiza os movimentos de acordo com as teclas
            function move(){
                let tecla = event.keyCode;

                if(tecla == 37){
                   px -= 10;
                   objeto.style.left = px + "px";
                }
                else if(tecla == 38){
                    py -= 10;
                    objeto.style.top = py + "px";
                }
                else if(tecla == 39){
                    px += 10;
                    objeto.style.left = px + "px";
                }
                else if(tecla == 40){
                    py += 10;
                    objeto.style.top = py + "px";
                }
            }

            //Add o evento Keydown
            function keydown (){
                document.addEventListener("keydown", function(event){
                    move(objeto);
                });
                alert("Evento keydown acionado");
            }

            //Ações quando o obj for clicado
            function clickAction(){
                objeto.style.backgroundColor = "#f00";
                keydown();
            }

            window.addEventListener("load", function(event){
                objeto = document.getElementById("div1");
                objeto.addEventListener("click", clickAction);
            });
            
        </script>
    </head>
    <body>
        <div id="div1"></div>
    </body>
</html>
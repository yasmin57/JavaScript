<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <title> CFB Cursos - Javascript </title>
        <meta charset="utf-8" />
        <style>
            #div1{
                width: 100px;
                height: 100px;
                border: solid 1px black;
                background-color: #f00;
                left: 0px;
                top: 0px;
                position: absolute;
            }
        </style>
        <script>
            var dx, dy, px, py, vel, obj, time;


            function inicia(){
                dx = 0;
                dy = 0;
                px = 0;
                py = 0;
                vel = 10;
                obj = document.getElementById("div1");
                document.addEventListener("keydown", teclaDw); //quando a tecla é pressionada
                document.addEventListener("keyup", teclaUp); //quando a tecla é liberada
                time = setInterval(entreFrame, 20); //aciona a movimentação
            }

            function teclaDw(){
                tecla = event.keyCode;

                if(tecla == 37){
                    dx -= 1;
                }
                else if(tecla == 38){
                    dy -= 1;
                }
                else if(tecla == 39){
                    dx += 1;
                }
                else if(tecla == 40){
                    dy += 1;
                }
            }

            function teclaUp(){
                tecla = event.keyCode;

                if(tecla == 37){
                    dx = 0;
                }
                else if(tecla == 38){
                    dy = 0;
                }
                else if(tecla == 39){
                    dx = 0;
                }
                else if(tecla == 40){
                    dy = 0;
                }
            }

            function entreFrame(){
                px += dx*vel;  //valores passam a valer:
                py += dy*vel;  // 10 ou -10

                obj.style.left = px + "px";
                obj.style.top = py + "px";
            }

            //1 - chamada da função inicia
            window.addEventListener("load", inicia);
        </script>
    </head>
    <body>
        <div id="div1"></div>
    </body>
</html>